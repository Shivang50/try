def main():

    print("Select input type:")
    print("1 → Single .lib file")
    print("2 → Directory containing .lib files")

    choice = input("Enter 1 or 2: ").strip()

    if choice == "1":

        file_input = input("Enter .lib file path: ").strip()

        # Convert to absolute path
        file_path = os.path.abspath(os.path.expanduser(file_input))

        if not os.path.isfile(file_path):
            print("ERROR: File not found.")
            return

        generate_all_modes(file_path)

    elif choice == "2":

        dir_input = input("Enter directory path: ").strip()

        # Convert to absolute path
        dir_path = os.path.abspath(os.path.expanduser(dir_input))

        if not os.path.isdir(dir_path):
            print("ERROR: Directory not found.")
            return

        lib_files = [f for f in os.listdir(dir_path) if f.endswith(".lib")]

        if not lib_files:
            print("No .lib files found in directory.")
            return

        for file_name in lib_files:
            full_path = os.path.join(dir_path, file_name)
            generate_all_modes(full_path)

    else:
        print("Invalid choice.")
